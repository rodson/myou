<div class="group-section nopadding">
  <div class="group-title pull-left" style="padding-top: 6px;">
    事件管理
  </div>
  <div class="action pull-right">
    <md-button class="md-raised md-primary btn-lg" aria-label="add test device" ng-click="vm.showAddTestDeviceDialog($event)">添加</md-button>
  </div>
<div>

<div>
  <table class="table">
    <thead>
      <tr>
        <th>设备名</th>
        <th>Mac地址</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="testDevice in vm.testDevices">
        <td>{{ testDevice.deviceName }}</td>
        <td>{{ testDevice.deviceMac }}</td>
        <td>
          <rs-dropdown>
            <li ng-click="vm.showEditTestDeviceDialog($event, testDevice)">
              <a href="javascript:void(0)">
                <i class="fa fa-edit"></i>
                <span>编辑</span>
              </a>
            </li>
            <li ng-click="vm.showDeleteTestDeviceDialog($event, testDevice)">
              <a href="javascript:void(0)">
                <i class="fa fa-times"></i>
                <span>删除</span>
              </a>
            </li>
          </rs-dropdown>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Add test device dialog -->
<div>
  <script type="text/ng-template" id="addTestDeviceDialog.html">
    <md-dialog>
      <md-dialog-content>
        <div class="modal-container">
          <div class="group-section clearfix">
            <div class="group-title">
              添加测试设备
            </div>
            <md-input-container flex>
              <label>名称</label>
              <input ng-model="vm.testDevice.deviceName" required>
            </md-input-container>
            <md-input-container flex>
              <label>mac地址</label>
              <input ng-model="vm.testDevice.deviceMac" required>
            </md-input-container>
            <div class="error" style="margin-bottom: 16px;">
              {{ vm.errorMessage }}
            </div>
            <div class="pull-right">
              <span flex></span>
              <md-button class="md-raised md-accent btn-lg" ng-click="vm.cancel()">
                取消
              </md-button>
              <md-button class="md-raised md-primary btn-lg" ng-click="vm.ok()">
                保存
              </md-button>
            </div>
          </div>
        </div>
      </md-dialog-content>
    </md-dialog>
  </script>
</div>

<!-- Edit test device dialog -->
<div>
  <script type="text/ng-template" id="editTestDeviceDialog.html">
    <md-dialog>
      <md-dialog-content>
        <div class="modal-container">
          <div class="group-section clearfix">
            <div class="group-title">
              编辑测试设备
            </div>
            <md-input-container flex>
              <label>名称</label>
              <input ng-model="vm.testDevice.deviceName" required>
            </md-input-container>
            <md-input-container flex>
              <label>mac地址</label>
              <input ng-model="vm.testDevice.deviceMac" required>
            </md-input-container>
            <div class="error" style="margin-bottom: 16px;">
              {{ vm.errorMessage }}
            </div>
            <div class="pull-right">
              <span flex></span>
              <md-button class="md-raised md-accent btn-lg" ng-click="vm.cancel()">
                取消
              </md-button>
              <md-button class="md-raised md-primary btn-lg" ng-click="vm.ok()">
                保存
              </md-button>
            </div>
          </div>
        </div>
      </md-dialog-content>
    </md-dialog>
  </script>
</div>

<!-- Delete event dialog -->
<div>
  <script type="text/ng-template" id="deleteTestDeviceDialog.html">
    <md-dialog>
      <md-dialog-content>
        <div class="modal-container">
          <div class="group-section clearfix">
            <div class="group-title">
              删除测试设备
            </div>
            <div>
              确认删除 <span class="emphasis">{{ vm.testDevice.deviceName }} ?
            </div>
            <div class="error" style="margin: 16px 0px;">
              {{ vm.errorMessage }}
            </div>
            <div class="pull-right">
              <span flex></span>
              <md-button class="md-raised md-accent btn-lg" ng-click="vm.cancel()">
                取消
              </md-button>
              <md-button class="md-raised md-primary btn-lg" ng-click="vm.ok()">
                确定
              </md-button>
            </div>
          </div>
        </div>
      </md-dialog-content>
    </md-dialog>
  </script>
</div>
