<div class='contacts'>
  <h3>自定义错误码</h3>
  <md-button class="md-icon-button" aria-label='添加错误码' title='添加错误码' ng-click="vm.showAddReturnCodeModal($event)">
    <ng-md-icon icon="add" size="25"></ng-md-icon>
  </md-button>
</div>
<div>
  <table class="table margin-top-30" ts-wrapper>
    <thead>
      <tr>
        <th ts-criteria="error_code|parseInt" ts-default='descending'>错误码</th>
        <th ts-criteria="error_code_desc|lowercase">错误码描述</th>
        <th>编辑</th>
        <th>删除</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="x in vm.datas" ts-repeat>
        <td>{{ x.error_code }}</td>
        <td>{{ x.error_code_desc }}</td>
        <td>
          <md-button class="md-icon-button" aria-label="编辑" title="编辑" ng-click="vm.showEditReturnCodeModal($event, x)">
            <ng-md-icon icon="mode_edit" size="25"></ng-md-icon>
          </md-button>
        </td>
        <td>
          <md-button class="md-icon-button" aria-label="删除" title="删除" ng-click="vm.showDeleteReturnCodeModal($event, x)">
            <ng-md-icon icon="delete" size="25"></ng-md-icon>
          </md-button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<!-- add returncode template -->
<script type="text/ng-template" id="addReturnCodeModal.html">
  <md-dialog aria-label="vm.title" class='alert-dialog'>
    <form name='addReturnCode' class='alert-dialog-form'>
      <md-dialog-content class="sticky-container">
        <h3>{{vm.title}}</h3>
        <md-input-container>
          <label>错误码</label>
          <input required name="errorCode" ng-model="vm.returnCode.error_code">
          <div ng-messages="addReturnCode.errorCode.$error">
            <div ng-message="required"></div>
          </div>
        </md-input-container>
        <md-input-container>
          <label>错误码描述</label>
          <input required name="errorDesc" ng-model="vm.returnCode.error_code_desc">
          <div ng-messages="addReturnCode.errorDesc.$error">
            <div ng-message="required"></div>
          </div>
        </md-input-container>
      </md-dialog-content>
      <h4 class='error-tip'>{{ vm.errortip }}</h4>
      <div class='md-actions' layout="row">
        <md-button ng-click="vm.cancel($event)" class="md-raised md-accent btn-lg">
          取消
        </md-button>
        <md-button ng-click="vm.ok()" class="md-raised md-primary btn-lg">
          确定
        </md-button>
      </div>
    </form>
  </md-dialog>
</script>
<script type="text/ng-template" id="deleteReturnCodeModal.html">
  <md-dialog aria-label="删除错误码" class='alert-dialog'>
    <form name='delReturnCodeModal' class='alert-dialog-form'>
      <md-dialog-content class="sticky-container">
        <h3>删除错误码</h3>
        <label>确定删除错误码：{{ vm.returnCode.error_code }}</label>
      </md-dialog-content>
      <h4 class='error-tip'>{{ vm.errortip }}</h4>
      <div class="md-actions" layout="row">
        <md-button ng-click="vm.cancel()" class="md-raised md-accent btn-lg">
          取消
        </md-button>
        <md-button ng-click="vm.ok()" class="md-raised md-primary btn-lg">
          确定
        </md-button>
      </div>
    </form>
  </md-dialog>
</script>
